---
import BaseLayout from "../../layouts/BaseLayout.astro";

type Unit = {
  rank: number;
  name: string;
  image: string;
  cost: string;
  rarity: string;
  maxDps: string;
  attackType: string;
  placements: string;
  dmg: string;
  rng: string;
  cd: string;
  reasoning: string;
};

const units: Unit[] = [
  {
    rank: 1,
    name: "Big Band Bonnie",
    image: "/images/tierlists/midgames/big-band-bonnie.png",
    cost: "$2,500",
    rarity: "Vengeful",
    maxDps: "800",
    attackType: "Shockwave",
    placements: "2",
    dmg: "1,000",
    rng: "22",
    cd: "2.5",
    reasoning:
      "BBB is possibly the EASIEST vengeful to get. Being a shockwave, that means he's basically full AOE (but with damage fall off). This means his 0.5 second stun is AOE! Combine all that with his amazing DPS, and you have a wonderful crowd control + damage unit.",
  },
  {
    rank: 2,
    name: "Golden Bonnie",
    image: "/images/tierlists/midgames/golden-bonnie.png",
    cost: "$4,500",
    rarity: "Mythic",
    maxDps: "784.8",
    attackType: "Pierce + Poison",
    placements: "2",
    dmg: "300",
    rng: "25",
    cd: "2.5",
    reasoning:
      "I love this unit personally. Being the only poison damage in the game currently, he shows why poison’s a beast of a stat. Unlike bleed or burn, poison deals a flat amount, and with Golden Bonnie being a pierce unit, that means every enemy he hits gets hit by poison too.",
  },
  {
    rank: 3,
    name: "Bunny6",
    image: "/images/tierlists/midgames/bunny6.png",
    cost: "$6,666",
    rarity: "Vengeful",
    maxDps: "1,363.63",
    attackType: "Single + Bleed",
    placements: "2",
    dmg: "1,250",
    rng: "20",
    cd: "2.75",
    reasoning:
      "I love bleed so damn much. Out of all the units in the game, Bunny6 has the strongest bleed. Combining that with his incredible damage, you have the single strongest boss killer in the game. His high end cost ($6,666) is why he ranks lower than Golden Bonnie and BBB.",
  },
  {
    rank: 4,
    name: "Sparky The Dog",
    image: "/images/tierlists/midgames/sparky-the-dog.png",
    cost: "$2,750",
    rarity: "Mythic",
    maxDps: "480",
    attackType: "Pierce + Bleed",
    placements: "2",
    dmg: "400",
    rng: "25",
    cd: "2",
    reasoning:
      "He just BARELY squeaked by Endo 01 for me. Being extremely easy to get combined with super high DPS output put him at 4th place.",
  },
  {
    rank: 5,
    name: "Phone Guy",
    image: "/images/tierlists/midgames/phone-guy.png",
    cost: "$3,000",
    rarity: "Legendary",
    maxDps: "240",
    attackType: "Full AOE + Stun",
    placements: "2",
    dmg: "30",
    rng: "23",
    cd: "0.25",
    reasoning:
      "Phone Guy has a full AOE stun. Sure it’s weak, but his passive where he stuns everyone for 2 seconds (1 second for elites, 0.5 seconds for bosses) makes him elite for crowd control.",
  },
  {
    rank: 6,
    name: "Endo 01",
    image: "/images/tierlists/midgames/endo-01.png",
    cost: "$2,500",
    rarity: "Legendary",
    maxDps: "400",
    attackType: "Beam",
    placements: "4",
    dmg: "15",
    rng: "22",
    cd: "0.15",
    reasoning:
      "He is an incredible tank shredder. But the biggest reason he's ranked 5th is that +20% income passive. While not as valuable in the late game, being able to transition into the late game faster helps Endo 01’s case.",
  },
  {
    rank: 7,
    name: "Bort Bunny",
    image: "/images/tierlists/midgames/bort-bunny.png",
    cost: "$2,500",
    rarity: "Mythic",
    maxDps: "180",
    attackType: "Pierce + Boost",
    placements: "2",
    dmg: "90",
    rng: "25",
    cd: "1",
    reasoning:
      "While not the highest DPS output, it’s his passive of -10% cooldown that really brings it out. For his lack of DPS, he makes up for it by making everyone on your team much stronger.",
  },
  {
    rank: 8,
    name: "Stuffed Freddy",
    image: "/images/tierlists/midgames/stuffed-freddy.png",
    cost: "$1,993",
    rarity: "Mythic",
    maxDps: "200",
    attackType: "Blast + Burn",
    placements: "2",
    dmg: "200",
    rng: "21",
    cd: "2",
    reasoning:
      "I wanted to place him higher, but the ones above him just have an edge over him. He has weaker DPS, but makes up for it heavily with the highest burn in the game. Burn deals % of enemies’ health, so the higher it is, the better it is.",
  },
  {
    rank: 9,
    name: "Golden Freddy",
    image: "/images/tierlists/midgames/golden-freddy.png",
    cost: "$5,000",
    rarity: "Mythic",
    maxDps: "216.67",
    attackType: "Full AOE + Stun",
    placements: "2",
    dmg: "325",
    rng: "25",
    cd: "3",
    reasoning:
      "While technically he has the highest stun in the game, that cooldown really hurt him. He is like BBB and Phone Guy, but without a reliable stun time.",
  },
  {
    rank: 10,
    name: "Fox4",
    image: "/images/tierlists/midgames/fox4.png",
    cost: "$2,500",
    rarity: "Legendary",
    maxDps: "600",
    attackType: "Single + Stun",
    placements: "4",
    dmg: "300",
    rng: "18",
    cd: "2",
    reasoning:
      "The only reason I can justify putting him above someone like Lamp is because of his damage output. Having 4 placements makes him damage output 600 which is insane for a legendary. He has a 0.3 second stun, but it’s only on one target which is why he falls below Golden Freddy.",
  },
];
---
<BaseLayout title="Midgame Tier List | Nightshift Tower Defense User Guide">
  <div class="tierpage-bg" aria-hidden="true"></div>
  <div class="tierpage-bg-overlay" aria-hidden="true"></div>

  <div class="page">
    <header class="hero">
      <h1 class="title">Midgame Tier List</h1>
      <div class="sub">$750-$8,000</div>
      <div class="note">Reminder that this is made with my opinion in mind.</div>
    </header>

    <div class="layout">
      <section class="leftPanel" aria-label="Top Midgame Units">
        <div class="leftHeader">
          <div class="leftTitle">Top Midgame Units</div>
          <div class="leftSub">Rankings</div>
        </div>

        <div class="rows">
          {units.map((u) => (
            <article class="row" aria-label={`${u.name} rank ${u.rank}`}>
              <div class="imgWrap">
                <img
                  class="img"
                  src={u.image}
                  alt={u.name}
                  loading="lazy"
                  decoding="async"
                  onerror="this.style.display='none'; this.parentElement.querySelector('.imgFallback')?.classList.add('show')"
                />
                <div class="imgFallback">IMG</div>

                <div class="tag name">{u.name}</div>
                <div class="tag rank">#{u.rank}</div>
                <div class="tag cost">{u.cost}</div>
              </div>

              <div class="info">
                <div class="miniGrid topLine">
                  <div class="miniBox">
                    <div class="k">Max DPS</div>
                    <div class="v">{u.maxDps}</div>
                  </div>
                  <div class="miniBox">
                    <div class="k">Attack Type</div>
                    <div class="v">{u.attackType}</div>
                  </div>
                  <div class="miniBox">
                    <div class="k">Placements</div>
                    <div class="v">{u.placements}</div>
                  </div>
                </div>

                <div class="miniGrid statsLine">
                  <div class="miniBox">
                    <div class="k">DMG</div>
                    <div class="v">{u.dmg}</div>
                  </div>
                  <div class="miniBox">
                    <div class="k">CD</div>
                    <div class="v">{u.cd}</div>
                  </div>
                  <div class="miniBox">
                    <div class="k">RNG</div>
                    <div class="v">{u.rng}</div>
                  </div>
                  <div class="miniBox">
                    <div class="k">Rarity</div>
                    <div class="v">{u.rarity}</div>
                  </div>
                </div>
              </div>
            </article>
          ))}
        </div>
      </section>

      <aside class="rightPanel" aria-label="Notes and explanations">
        <div class="rightHeader">
          <div class="rightTitle">Why these rankings?</div>
          <div class="rightSub">Explanations</div>
        </div>

        <div class="rightBody">
          <div class="notesList">
            {units.map((u) => (
              <section class="noteCard" aria-label={`Reasoning for ${u.name}`}>
                <div class="noteHead">
                  <div class="noteName">{u.name}</div>
                  <div class="noteRank">#{u.rank}</div>
                </div>
                <div class="noteText">{u.reasoning}</div>
              </section>
            ))}
          </div>
        </div>
      </aside>
    </div>
  </div>

  <style>
    .tierpage-bg{
      position: fixed;
      inset: 0;
      z-index: -2;
      background-image: url("/images/tierlist-bg.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      filter: blur(1px) brightness(0.85) contrast(1.05) saturate(1.2);
      transform: scale(1.02);
    }

    .tierpage-bg-overlay{
      position: fixed;
      inset: 0;
      z-index: -1;
      background:
        radial-gradient(900px 650px at 20% 10%, rgba(106,168,255,.18), transparent 60%),
        radial-gradient(900px 650px at 80% 20%, rgba(159,91,255,.16), transparent 55%),
        linear-gradient(180deg, rgba(10,12,18,.22), rgba(10,12,18,.55));
    }

    .page{
      max-width: 1200px;
      margin: 0 auto;
      padding: 26px 18px 80px;
    }

    .hero{
      text-align: center;
      margin-bottom: 18px;
    }

    .title{
      margin: 0;
      font-size: clamp(42px, 5vw, 66px);
      line-height: 1.02;
      letter-spacing: -0.02em;
    }

    .sub{
      margin-top: 10px;
      font-weight: 900;
      color: rgba(232,238,252,.9);
      letter-spacing: 0.02em;
      font-size: 14px;
    }

    .note{
      margin-top: 8px;
      color: rgba(232,238,252,.65);
      font-size: 13px;
      line-height: 1.55;
    }

    .layout{
      display: grid;
      grid-template-columns: 1.05fr 0.95fr;
      gap: 18px;
      align-items: start;
    }

    .leftPanel{
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.20);
      background: rgba(0,0,0,.22);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .leftHeader{
      padding: 14px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }

    .leftTitle{
      font-weight: 1000;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 13px;
      color: rgba(232,238,252,.95);
    }

    .leftSub{
      margin-top: 6px;
      font-size: 12px;
      color: rgba(232,238,252,.65);
    }

    .rows{
      padding: 12px;
      display: grid;
      gap: 10px;
    }

    .row{
      display: grid;
      grid-template-columns: 140px 1fr;
      gap: 10px;
      padding: 10px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
    }

    .imgWrap{
      position: relative;
      border-radius: 16px;
      border: 2px solid rgba(232,238,252,.70);
      overflow: hidden;
      background: rgba(0,0,0,.22);
      aspect-ratio: 1 / 1;
    }

    .img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      display: block;
    }

    .imgFallback{
      position: absolute;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      font-weight: 1000;
      letter-spacing: 0.12em;
      color: rgba(232,238,252,.75);
      background: rgba(0,0,0,.20);
    }
    .imgFallback.show{ display: flex; }

    .tag{
      position: absolute;
      padding: 6px 8px;
      font-weight: 900;
      font-size: 11px;
      color: rgba(255,255,255,.92);
      background: rgba(0,0,0,.55);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 12px;
      backdrop-filter: blur(6px);
      line-height: 1;
    }

    .tag.name{
      top: 8px;
      left: 8px;
      max-width: calc(100% - 58px);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .tag.rank{
      top: 8px;
      right: 8px;
    }

    .tag.cost{
      bottom: 8px;
      left: 8px;
    }

    .info{
      display: grid;
      gap: 8px;
      align-content: center;
    }

    .miniGrid{
      display: grid;
      gap: 8px;
    }

    .topLine{
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .statsLine{
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }

    .miniBox{
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.14);
      padding: 8px 9px;
      min-height: 46px;
      display: grid;
      align-content: center;
      gap: 4px;
    }

    .k{
      font-size: 10px;
      font-weight: 900;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: rgba(232,238,252,.62);
    }

    .v{
      font-size: 12px;
      font-weight: 900;
      color: rgba(232,238,252,.92);
    }

    .rightPanel{
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.20);
      background: rgba(0,0,0,.18);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .rightHeader{
      padding: 14px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }

    .rightTitle{
      font-weight: 1000;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      font-size: 13px;
      color: rgba(232,238,252,.95);
    }

    .rightSub{
      margin-top: 6px;
      font-size: 12px;
      color: rgba(232,238,252,.65);
    }

    .rightBody{
      padding: 14px;
      color: rgba(232,238,252,.80);
      font-size: 13px;
      line-height: 1.7;
    }

    .notesList{
      display: grid;
      gap: 10px;
    }

    .noteCard{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.14);
      padding: 12px;
    }

    .noteHead{
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
    }

    .noteName{
      font-weight: 1000;
      color: rgba(232,238,252,.95);
      font-size: 13px;
      letter-spacing: 0.02em;
    }

    .noteRank{
      font-weight: 1000;
      color: rgba(232,238,252,.70);
      font-size: 12px;
    }

    .noteText{
      color: rgba(232,238,252,.78);
      font-size: 13px;
      line-height: 1.7;
    }

    @media (max-width: 1050px){
      .layout{ grid-template-columns: 1fr; }
    }

    @media (max-width: 520px){
      .row{ grid-template-columns: 1fr; }
      .topLine{ grid-template-columns: 1fr; }
      .statsLine{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
  </style>
</BaseLayout>
